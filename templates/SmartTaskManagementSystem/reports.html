{% load static %}
<!DOCTYPE html>
<html>
<head>
    <title>Reports | STMS</title>
    <link rel="stylesheet" type="text/css" href="{% static 'css/styles.css' %}">
</head>
<body>
    <header>
        <h1>Generate and View Reports</h1>
        <nav>
            <a href="{% url 'SmartTaskManagementSystem:dashboard' %}">Dashboard</a>
            <a href="{% url 'SmartTaskManagementSystem:create_task' %}">Create Task</a>
            <a href="{% url 'SmartTaskManagementSystem:notifications' %}">Notifications</a>
            <a href="{% url 'SmartTaskManagementSystem:github' %}">GitHub Issues</a>
            <a href="{% url 'SmartTaskManagementSystem:reports' %}">Reports</a>
            <a href="{% url 'SmartTaskManagementSystem:logout' %}">Logout</a>
        </nav>
    </header>

    <main>
        <h2>Generate Report</h2>
        <form action="{% url 'SmartTaskManagementSystem:reports' %}" method="POST">
            {% csrf_token %}
            {{ form.as_p }}
            <button type="submit">Generate Report</button>
        </form>

        <h2>Previous Reports</h2>
        <ul>
            {% for report in reports %}
                <li>
                    <strong>Generated on:</strong> {{ report.created_at }}<br>
                    <strong>Content:</strong> {{ report.data }}
                </li>
            {% empty %}
                <li>No reports available.</li>
            {% endfor %}
        </ul>
    </main><br><br>

    <footer>
        <p>&copy; 2025 Smart Task Management System | All Rights Reserved</p>
    </footer>
</body>
</html>
